<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>    RHEL 5.5 et chipset broadcom BCM5709
</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
            <link rel="stylesheet" href="../../theme/css/normalize.css">
        <link href='//fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
        <link href='//fonts.googleapis.com/css?family=Oswald' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="../../theme/css/font-awesome.min.css">
        <link rel="stylesheet" href="../../theme/css/main.css">

    <link rel="stylesheet" href="../../theme/css/blog.css">
    <link rel="stylesheet" href="../../theme/css/github.css">
        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Aldevar - Le Blog Atom Feed" />
        <script src="../../theme/js/vendor/modernizr-2.6.2.min.js"></script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

        <div id="wrapper">
<header id="sidebar" class="side-shadow">
    <hgroup id="site-header">
        <a id="site-title" href="../.."><h1><i class="icon-coffee"></i> Aldevar - Le Blog</h1></a>
        <p id="site-desc"> Un Blog IT </p>
    </hgroup>
    <nav>
        <ul id="nav-links">
        </ul>
    </nav>
<footer id="site-info">
    <p>
        Proudly powered by <a href="http://getpelican.com/" target="pelican">Pelican</a> and <a href="http://python.org/" target="python">Python</a>. Theme by <a href="https://github.com/hdra/pelican-cait" target="github">hndr</a>.
    </p>
    <p>
        Textures by <a href="http://subtlepatterns.com/" target="subtlepatterns">Subtle Pattern</a>. Font Awesome by <a href="http://fortawesome.github.io/Font-Awesome/" target="github">Dave Grandy</a>.
    </p>
</footer></header>
    <div id="post-container">
        <ol id="post-list">
            <li>
                <article class="post-entry">
                    <header class="entry-header">
                        <time class="post-time" datetime="2010-06-28T19:36:00+02:00" pubdate>
                            Mon 28 June 2010
                        </time>
                        <a href="../../2010/06/rhel-5-5-et-chipset-broadcom-bcm5709.html" rel="bookmark"><h1>RHEL 5.5 et chipset broadcom BCM5709</h1></a>
                    </header>

                    <section class="post-content">
                        <p>Nous avons récemment installé une nouvelle machine qui sert de serveur
principal pour notre nouveau système de sauvegarde. Lors des tests des
sauvegardes complètes du week end, le chipset réseau du serveur
s'écroulait lamentablement sous la charge du nombre de paquets qui
arrivaient. Même si le réseau semblait toujours fonctionnel (service
réseau lancé, ifconfig ne signal rien d'anormal), la machine était
injoignable et ne répondait pas au ping. Dans certains cas, un
redémarrage du service réseau ne suffit pas à retrouver une
connectivité.</p>
<p>A l'heure où la sauvegarde s'arrêtait, voici ce qu'on pouvait trouver
dans /var/log/messages :</p>
<pre class="literal-block">
server1 kernel: NETDEV WATCHDOG: eth0: transmit timed out
server1 kernel: bnx2: eth0 NIC Copper Link is Down
</pre>
<p>La résolution du problème passe par une mise à jour du pilote. On trouve
le pilote pour ce chipset à cette page :
<a class="reference external" href="http://www.broadcom.com/support/ethernet_nic/netxtremeii.php">http://www.broadcom.com/support/ethernet_nic/netxtremeii.php</a> Après avoir
extrait l'archive, on installe les sources :</p>
<pre class="literal-block">
rpm -ivh netxtreme2-&lt;version&gt;.src.rpm
</pre>
<p>Installation de kernel-devel pour pouvoir compiler les sources du
pilotes :</p>
<pre class="literal-block">
yum install kernel-devel
</pre>
<p>Construction du paquet :</p>
<pre class="literal-block">
cd /usr/src/redhat
rpm -bb SPECS/netxtreme2.spec
</pre>
<p>Installation du paquet fraichement installé :</p>
<pre class="literal-block">
rpm -ivh RPMS/&lt;arch&gt;/netxtreme2-&lt;version&gt;.&lt;arch&gt;.rpm
</pre>
<p>déchargement de l'ancien module :</p>
<pre class="literal-block">
rmmode bnx2
</pre>
<p>Chargement du nouveau module :</p>
<pre class="literal-block">
modprobe bnx2
</pre>
<p>Suite à cette petite manipulation, plus de soucis de chipset réseau qui
ne répond plus. Problème résolu :D</p>

                    </section>
                    <hr/>
                    <aside class="post-meta">
                        <p>Category: <a href="../../category/tech.html">Tech</a></p>
                        <p>Tags: <a href="../../tag/broadcom.html">broadcom</a>, <a href="../../tag/linux.html">Linux</a>, <a href="../../tag/pilote.html">pilote</a>, <a href="../../tag/red-hat.html">Red hat</a>, <a href="../../tag/reseau.html">réseau</a>, </p>
                    </aside>
                    <hr/>
                </article>
            </li>
        </ol>
    </div>
        </div>

        <script src="../../theme/js/main.js"></script>
    </body>
</html>